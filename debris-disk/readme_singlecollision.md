This information pertains to debris disks formed by a single progenitor. If you don't want that, see the other readme. 

Installation: You will need Python 3.6 and NumPy 1.13 to run some parts of the code, so I recommend installing Anaconda and setting up an environment with these versions as well as any other packages that pop up. 

Overview: From scratch to a FITS file, the process looks like this: 
1. Create a disk configuration file in the folder disk_input.
2. From the codes directory, run the command "python gen_debris_disk_single.py filename". Here filename does not contain the .txt. This creates a file, saved in the dustorbit directory, that contains orbital parameters for each grain of dust generated. 
3. Create an image configuration file in the directory image_gen. 
4. From the codes directory, run the command "python save_altaz.py img_gen_name". This will create an actual image or images, and save it in images/imgrid/400x400/. 
5. Edit the actual code in the file codes/save_image.py, at the bottom, so that it does what you want (displaying, saving, or combining images). 
6. Run python save_image.py 

In more detail: 
1. Setting the configuration file: many of the parameters in the file are aptly named,  but some need extra explanation. Also note that the order of parameters doesn't matter. 

Nparticles should always be 1, since gen_debris_disk_single is only for single-parent progenitor scenarios. This represents the number of parent bodies. In this model, dust particles have the initial velocity of the parent, plus some dv, randomly oriented in space. The ratio of magnitude(dv) to magnitude(v_0) is labeled dv_ratio. Nlaunch is the number of different orientations of dv to choose. For each such orientation, there are beta_per_launch dust grains actually simulated. If you don't want this parent body, you should be able to delete Nlaunch from the file and I believe it will work. 

launchstyle represents the way in which the Nlaunch launch points are sampled. The only launchstyle that I am certain still works, and that I recommend using since it is the most general anyway, is launchstyle = 7. This allows you to set the launch_angle (true anomaly) and radius at launch to whatever you please. Some older files do not necessarily use this, so if you want to rerun simulations you may have to change them.

If you want a background disk (created by dust from multiple different launch sites), then the relevant parameters are Nback, Nlaunchback, num_e, and beta_per_launch_back. Nback is the number of distinct launch sites, Nlaunchback is the number of dv orientations per launch site, num_e is the number of distinct allowable eccentricities, and beta_per_launch_back is like beta_per_launch. If you don't want a background disk, just omit Nback or Nlaunchback from the config file. 

If you want a fork, just include Nfork, afork, efork, and beta_per_fork. There are also several flags used for the fork, constraining various attributes that you can see in the code. These are exp_A, exp_B, and exp_C. 



2. I don't believe you have to be in the environment with Python 3.6 and NumPy 1.13 for this step, but it doesn't hurt. 

3. The required parameters for an image generation file are maxa (maximum horizontal lengthscale covered by the image in AU), d (distance to the disk in pc), fstr (same as the filename of the disk config file, also without the .txt), alt, az, and ar (aspect ratio). There are several optional parameters. 
Instead of just one image, if you wish to generate multiple, you can instead include alt_az_pairs. To do this, each pair should have alt and az separated by a comma, and enclosed in parenthesis. See the format in TEMPLATE2 for more detail. 
By default, 100 points are randomly drawn for every orbit to plotted. If you wish to draw more, add your new value of Nd to the file. 
If you wish to print progress as you go, include print_every_x_dust in the config file. It will then print when you have completed plotting the xth dust particle's orbit. 
SPF is a parameter that toggles between different scattering phase functions. The default is 4 for the compHG function. The other options are: 1 for Rayleigh-Jeans approximation, 2 for the full Planck functions, 3 for HG, and 5 for mock IR. 
For SPF 1 or 2, the wavelength is necessary. It can be entered in units of microns. 

It is also possible to run save_altaz.py from the command line, with the format "python save_altaz.py 400 10 name alt az 1 100 10000 4 1000", where the last four arguments are optional. 

4. This is where you need Python 3.6 and NumPy 1.13. 

5. You can use save_image.py to display images generated by save_altaz with a nice colormap (display_img), to save these images as FITS files (save_files), or to overlay multiple images (e.g. for a double collision) and then save them as a FITS file (combine_imgs). Saved files go to the FITS directory. Displaying the images requires a Python version higher than 3.6 so if you wish to do this you will need to exit the environment and go back to base. Rather than worrying about command line input/output, I opted to just directly edit this file. Just directly write in the filenames, alts, azes, etc. 

